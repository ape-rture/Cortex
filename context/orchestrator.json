{
  "agents": {
    "sales-watcher": {
      "agent": "sales-watcher",
      "prompt_path": "src/agents/prompts/sales-watcher.md",
      "permissions": {
        "agent": "sales-watcher",
        "can_read": ["contacts/**", "meetings/**", "context/company.md"],
        "can_write": [],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 0,
        "model": "local:script",
        "timeout_ms": 10000
      },
      "execution_type": "local_script",
      "model": "local:script"
    },
    "content-scanner": {
      "agent": "content-scanner",
      "prompt_path": "src/agents/prompts/content-scanner.md",
      "permissions": {
        "agent": "content-scanner",
        "can_read": ["actions/queue.md", "projects/content-seeds.md", "projects/content-drafts/**"],
        "can_write": [],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 0,
        "model": "local:script",
        "timeout_ms": 10000
      },
      "execution_type": "local_script",
      "model": "local:script"
    },
    "code-watcher": {
      "agent": "code-watcher",
      "prompt_path": "src/agents/prompts/code-watcher.md",
      "permissions": {
        "agent": "code-watcher",
        "can_read": ["projects/project-registry.md"],
        "can_write": [],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 0,
        "model": "local:script",
        "timeout_ms": 15000
      },
      "execution_type": "local_script",
      "model": "local:script"
    },
    "project-heartbeat": {
      "agent": "project-heartbeat",
      "prompt_path": "src/agents/prompts/project-heartbeat.md",
      "permissions": {
        "agent": "project-heartbeat",
        "can_read": ["projects/project-registry.md"],
        "can_write": [],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 0,
        "model": "local:script",
        "timeout_ms": 20000
      },
      "execution_type": "local_script",
      "model": "local:script"
    },
    "project-analyst": {
      "agent": "project-analyst",
      "prompt_path": "src/agents/prompts/project-analyst.md",
      "permissions": {
        "agent": "project-analyst",
        "can_read": [
          "src/**",
          "context/**",
          ".cortex/**",
          "actions/**",
          "projects/**",
          "decisions/**",
          "research/**",
          "SYSTEM.md",
          "CONVENTIONS.md",
          "CLAUDE.md",
          "AGENTS.md",
          "package.json",
          "tsconfig.json"
        ],
        "can_write": [],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 4096,
        "model": "anthropic:sonnet",
        "timeout_ms": 300000
      },
      "execution_type": "claude_code",
      "model": "anthropic:haiku",
      "max_turns": 15,
      "max_budget_usd": 5.00,
      "allowed_tools": ["Read", "Glob", "Grep"]
    },
    "smart-sales-watcher": {
      "agent": "smart-sales-watcher",
      "prompt_path": "src/agents/prompts/smart-sales-watcher.md",
      "permissions": {
        "agent": "smart-sales-watcher",
        "can_read": ["contacts/**", "meetings/**", "context/company.md", "context/weekly-focus.md"],
        "can_write": [],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 4096,
        "model": "anthropic:haiku",
        "timeout_ms": 300000
      },
      "execution_type": "claude_code",
      "model": "anthropic:haiku",
      "max_turns": 15,
      "max_budget_usd": 5.00,
      "allowed_tools": ["Read", "Glob", "Grep"]
    },
    "triage-agent": {
      "agent": "triage-agent",
      "prompt_path": "src/agents/prompts/triage-agent.md",
      "permissions": {
        "agent": "triage-agent",
        "can_read": ["actions/**", ".cortex/**", "context/weekly-focus.md"],
        "can_write": [],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 4096,
        "model": "anthropic:haiku",
        "timeout_ms": 300000
      },
      "execution_type": "claude_code",
      "model": "anthropic:haiku",
      "max_turns": 15,
      "max_budget_usd": 5.00,
      "allowed_tools": ["Read", "Glob", "Grep"]
    },
    "fact-extractor": {
      "agent": "fact-extractor",
      "prompt_path": "src/agents/prompts/fact-extractor.md",
      "permissions": {
        "agent": "fact-extractor",
        "can_read": ["meetings/**", "daily/**", "context/**", "entities/**"],
        "can_write": ["entities/**/facts.json"],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 4096,
        "model": "anthropic:haiku",
        "timeout_ms": 120000
      },
      "execution_type": "local_script",
      "model": "anthropic:haiku"
    },
    "memory-synthesizer": {
      "agent": "memory-synthesizer",
      "prompt_path": "src/agents/prompts/memory-synthesizer.md",
      "permissions": {
        "agent": "memory-synthesizer",
        "can_read": ["entities/**", "context/**"],
        "can_write": ["entities/**/summary.md"],
        "can_call_apis": [],
        "can_send_messages": false,
        "requires_human_approval": [],
        "max_tokens": 8192,
        "model": "anthropic:haiku",
        "timeout_ms": 300000
      },
      "execution_type": "local_script",
      "model": "anthropic:haiku"
    }
  },
  "triggers": [
    {
      "type": "cli",
      "agents": ["sales-watcher", "content-scanner", "code-watcher", "project-heartbeat"]
    },
    {
      "type": "cli",
      "schedule": "quick",
      "agents": ["sales-watcher", "content-scanner", "code-watcher", "project-heartbeat"]
    },
    {
      "type": "cli",
      "schedule": "smart",
      "agents": ["smart-sales-watcher", "triage-agent"]
    },
    {
      "type": "cli",
      "schedule": "deep",
      "agents": ["sales-watcher", "content-scanner", "code-watcher", "project-heartbeat", "project-analyst", "smart-sales-watcher", "triage-agent", "fact-extractor", "memory-synthesizer"]
    },
    {
      "type": "cron",
      "schedule": "*/30 * * * *",
      "agents": ["fact-extractor"]
    },
    {
      "type": "cron",
      "schedule": "0 10 * * 0",
      "agents": ["memory-synthesizer"]
    }
  ],
  "max_cycle_timeout_ms": 600000,
  "fame_threshold": 0.3,
  "max_parallel_agents": 7,
  "max_escalations_per_agent": 1,
  "routing_config_path": "context/model-routing.json",
  "agent_routing": {
    "affinities": [
      {
        "agent": "sales-watcher",
        "task_types": ["research_analysis"],
        "priority": 5,
        "context_match": "contacts/*"
      },
      {
        "agent": "content-scanner",
        "task_types": ["content_drafting"],
        "priority": 5
      }
    ],
    "default_agent": "sales-watcher"
  }
}
